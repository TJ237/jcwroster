<!DOCTYPE html>
<head>
	<link rel="stylesheet" href="styles.css?v=1.1">
	<title>JCW Roster</title>
	
	<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
	<meta http-equiv="Pragma" content="no-cache" />
	<meta http-equiv="Expires" content="0" />
</head>
<body onload="loadTest()">
	<select class="center" name="names" id="names" onchange="setData();">
		<option value="" disabled selected>Roster</option>
	</select>

	<p><img class="portrait" src="https://raw.githubusercontent.com/TJ237/jcwroster/main/Renders/Vacant.png" alt="" width="250" height="250" id="pic" /></p>
	<p id="name" style="text-align: center; font-size:30px;"><b>NAME</b></p>
	<p id="reaction" style="text-align: center;">FACE/HEEL</p>
	<p id="moveset" style="text-align: center;"><b>BASE MOVE SET</b><br /></p>
	<p id="signatures" style="text-align: center;"><b>SIGNATURES</b><br /></p>
	<p id="finishers" style="text-align: center;"><b>FINISHERS</b><br /></p>
	<p id="entmotion" style="text-align: center;"><b>ENTRANCE MOTION</b><br /></p>
	<p id="entmusic" style="text-align: center;"><b>ENTRANCE MUSIC</b><br /></p>

	<p id="music" style="margin-top: 10%;">
		<b>All Music Being Used:</b>
	</p>
	
	<p id="motions">
		<b>All Motions Being Used:</b>
	</p>
</body>

<script>
	function setData()
	{
		var charButton = document.getElementById("names").selectedIndex - 1;

		//document.getElementById("pic").src = myData[charButton].Img;

		document.getElementById("name").innerHTML = "<b>" + myData[charButton].Name + "</b>";
		document.getElementById("reaction").innerHTML = myData[charButton].Reaction;
		
		document.getElementById("moveset").innerHTML = "<b>BASE MOVE SET</b><br />"
		document.getElementById("moveset").innerHTML += myData[charButton].Moveset;
		
		document.getElementById("signatures").innerHTML = "<b>SIGNATURES</b><br />"
		document.getElementById("signatures").innerHTML += myData[charButton].Signatures[0] + "<br />";
		document.getElementById("signatures").innerHTML += myData[charButton].Signatures[1];
		
		document.getElementById("finishers").innerHTML = "<b>FINISHERS</b><br />"
		document.getElementById("finishers").innerHTML += myData[charButton].Finishers[0] + "<br />";
		document.getElementById("finishers").innerHTML += myData[charButton].Finishers[1];
		
		document.getElementById("entmotion").innerHTML = "<b>ENTRANCE MOTION</b><br />"
		document.getElementById("entmotion").innerHTML += myData[charButton].Entrance;
		
		document.getElementById("entmusic").innerHTML = "<b>ENTRANCE MUSIC</b><br />"
		document.getElementById("entmusic").innerHTML += myData[charButton].Music;
	}

	async function loadTest()
	{
		const response = await fetch("roster.json?v=1.6");
		const json = await response.text();
		//console.log(json);
		
		myData = JSON.parse(json);

		var namesList = document.getElementById("names");
		var musicList = document.getElementById("music");
		var motionList = document.getElementById("motions");
		
		for (i = 0; i < myData.length; i++)
		{
			let p = document.createElement("p");

			var newOpt = document.createElement("option");
			newOpt.text = myData[i].Name;
			namesList.add(newOpt);
			
			musicList.innerHTML += "<br />" + myData[i].Music;
			motionList.innerHTML += "<br />" + myData[i].Entrance;
		}
	}
</script>

</html>
